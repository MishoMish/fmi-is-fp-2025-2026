# –í—ä–≤–µ–¥–µ–Ω–∏–µ –≤ Scheme

## –ö–∞–∫–≤–æ –µ Scheme?

Scheme –µ –¥–∏–∞–ª–µ–∫—Ç –Ω–∞ **Lisp** ‚Äî –µ–¥–∏–Ω –æ—Ç –Ω–∞–π-—Å—Ç–∞—Ä–∏—Ç–µ –µ–∑–∏—Ü–∏ –∑–∞ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ (1958). –û—Å–Ω–æ–≤–Ω–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
- **–ü—Ä–µ—Ñ–∏–∫—Å–Ω–∞ –Ω–æ—Ç–∞—Ü–∏—è** ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä—ä—Ç –µ –ø—Ä–µ–¥–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ç–µ
- **S-–∏–∑—Ä–∞–∑–∏** ‚Äî –≤—Å–∏—á–∫–æ –µ —Å–ø–∏—Å—ä–∫ (–∫–æ–¥ = –¥–∞–Ω–Ω–∏)
- **–ú–∏–Ω–∏–º–∞–ª–µ–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—Å** ‚Äî –ø–æ—á—Ç–∏ –±–µ–∑ –∫–ª—é—á–æ–≤–∏ –¥—É–º–∏
- **–î–∏–Ω–∞–º–∏—á–Ω–æ —Ç–∏–ø–∏–∑–∏—Ä–∞–Ω–µ** ‚Äî —Ç–∏–ø–æ–≤–µ—Ç–µ —Å–µ –ø—Ä–æ–≤–µ—Ä—è–≤–∞—Ç –ø–æ –≤—Ä–µ–º–µ –Ω–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ

> üí° –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ [DrRacket](https://racket-lang.org/) –∫–∞—Ç–æ —Å—Ä–µ–¥–∞. –ò–∑–±–µ—Ä–µ—Ç–µ `#lang r5rs` –∏–ª–∏ `#lang racket`.

---

## 1. –ü—Ä–µ—Ñ–∏–∫—Å–Ω–∞ –Ω–æ—Ç–∞—Ü–∏—è

–í Scheme **–≤—Å–∏—á–∫–æ** –µ –≤ —Å–∫–æ–±–∏, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ä—Ç –µ **–ø—ä—Ä–≤–∏**:

```scheme
; Haskell: 2 + 3         ‚Üí  Scheme:
(+ 2 3)           ; ‚Üí 5

; Haskell: max 3 5       ‚Üí  Scheme:
(max 3 5)          ; ‚Üí 5

; Haskell: 2 + 3 * 4     ‚Üí  Scheme:
(+ 2 (* 3 4))     ; ‚Üí 14

; –û–ø–µ—Ä–∞—Ç–æ—Ä–∏—Ç–µ –ø—Ä–∏–µ–º–∞—Ç –ø—Ä–æ–∏–∑–≤–æ–ª–µ–Ω –±—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç–∏:
(+ 1 2 3 4 5)     ; ‚Üí 15
(* 1 2 3)          ; ‚Üí 6
```

---

## 2. –û—Å–Ω–æ–≤–Ω–∏ —Ç–∏–ø–æ–≤–µ

```scheme
42          ; —Ü—è–ª–æ —á–∏—Å–ª–æ
3.14        ; –¥—Ä–æ–±–Ω–æ —á–∏—Å–ª–æ
#t          ; –±—É–ª–µ–≤–æ True
#f          ; –±—É–ª–µ–≤–æ False
"hello"     ; –Ω–∏–∑
'hello      ; —Å–∏–º–≤–æ–ª (symbol)
'()         ; –ø—Ä–∞–∑–µ–Ω —Å–ø–∏—Å—ä–∫ (nil)
```

---

## 3. `define` ‚Äî –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–µ

### –°—Ç–æ–π–Ω–æ—Å—Ç–∏

```scheme
(define x 42)
(define pi 3.14159)
(define name "Haskell")
```

### –§—É–Ω–∫—Ü–∏–∏

```scheme
; –ö—Ä–∞—Ç—ä–∫ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:
(define (square x) (* x x))

; –ï–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–µ–Ω –ø—ä–ª–µ–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:
(define square (lambda (x) (* x x)))
```

```scheme
(define (add a b) (+ a b))
(add 3 4)   ; ‚Üí 7

(define (abs x)
  (if (< x 0) (- x) x))
(abs -5)    ; ‚Üí 5
```

---

## 4. `if` –∏ `cond`

### `if` ‚Äî –∑–∞ –¥–≤–µ –∫–ª–æ–Ω–∏

```scheme
(if —É—Å–ª–æ–≤–∏–µ
    —Ç–æ–≥–∞–≤–∞
    –∏–Ω–∞—á–µ)

(if (> 3 2) "–¥–∞" "–Ω–µ")  ; ‚Üí "–¥–∞"
```

### `cond` ‚Äî –∑–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–ª–æ–Ω–∏ (–∫–∞—Ç–æ guards)

```scheme
(define (grade score)
  (cond
    ((>= score 90) "–û—Ç–ª–∏—á–µ–Ω")
    ((>= score 75) "–ú–Ω–æ–≥–æ –¥–æ–±—ä—Ä")
    ((>= score 60) "–î–æ–±—ä—Ä")
    ((>= score 50) "–°—Ä–µ–¥–µ–Ω")
    (else "–°–ª–∞–±")))

(grade 85)  ; ‚Üí "–ú–Ω–æ–≥–æ –¥–æ–±—ä—Ä"
```

---

## 5. `lambda` ‚Äî –∞–Ω–æ–Ω–∏–º–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏

```scheme
(lambda (x) (* x x))          ; —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –ø–æ–≤–¥–∏–≥–∞ –Ω–∞ –∫–≤–∞–¥—Ä–∞—Ç

((lambda (x) (* x x)) 5)      ; ‚Üí 25  (—Å—ä–∑–¥–∞–≤–∞–º–µ –∏ –≤–µ–¥–Ω–∞–≥–∞ –∏–∑–≤–∏–∫–≤–∞–º–µ)

(define double (lambda (x) (* 2 x)))
(double 5)  ; ‚Üí 10
```

---

## 6. `let` –∏ `let*`

```scheme
; let ‚Äî –ø–∞—Ä–∞–ª–µ–ª–Ω–æ —Å–≤—ä—Ä–∑–≤–∞–Ω–µ (—Å—Ç–æ–π–Ω–æ—Å—Ç–∏—Ç–µ –Ω–µ —Å–µ –≤–∏–∂–¥–∞—Ç –≤–∑–∞–∏–º–Ω–æ)
(let ((x 3)
      (y 4))
  (+ x y))   ; ‚Üí 7

; let* ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ (–≤—Å—è–∫–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –≤–∏–∂–¥–∞ –ø—Ä–µ–¥–∏—à–Ω–∏—Ç–µ)
(let* ((x 3)
       (y (* x 2)))
  (+ x y))   ; ‚Üí 9
```

---

## 7. –°–ø–∏—Å—ä—Ü–∏

–°–ø–∏—Å—ä—Ü–∏—Ç–µ —Å–∞ –æ—Å–Ω–æ–≤–Ω–∞—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ Scheme:

```scheme
; –õ–∏—Ç–µ—Ä–∞–ª–µ–Ω —Å–ø–∏—Å—ä–∫ (quote):
'(1 2 3)        ; —Å–ø–∏—Å—ä–∫ –æ—Ç 1, 2, 3
'()             ; –ø—Ä–∞–∑–µ–Ω —Å–ø–∏—Å—ä–∫

; –ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–∞–Ω–µ:
(cons 1 '(2 3))  ; ‚Üí (1 2 3)
(cons 1 (cons 2 (cons 3 '())))  ; ‚Üí (1 2 3)

; –†–∞–∑–≥–ª–æ–±—è–≤–∞–Ω–µ:
(car '(1 2 3))   ; ‚Üí 1  (head)
(cdr '(1 2 3))   ; ‚Üí (2 3)  (tail)

; –ü—Ä–µ–¥–∏–∫–∞—Ç–∏:
(null? '())      ; ‚Üí #t
(null? '(1))     ; ‚Üí #f
(pair? '(1 2))   ; ‚Üí #t
(list? '(1 2))   ; ‚Üí #t
```

| Haskell | Scheme |
|---------|--------|
| `x : xs` | `(cons x xs)` |
| `head xs` | `(car xs)` |
| `tail xs` | `(cdr xs)` |
| `null xs` | `(null? xs)` |
| `[]` | `'()` |

---

## 8. –†–µ–∫—É—Ä—Å–∏—è

```scheme
; –§–∞–∫—Ç–æ—Ä–∏–µ–ª
(define (fact n)
  (if (= n 0) 1
      (* n (fact (- n 1)))))

; –î—ä–ª–∂–∏–Ω–∞ –Ω–∞ —Å–ø–∏—Å—ä–∫
(define (my-length lst)
  (if (null? lst) 0
      (+ 1 (my-length (cdr lst)))))

; –°—É–º–∞ –Ω–∞ —Å–ø–∏—Å—ä–∫
(define (my-sum lst)
  (if (null? lst) 0
      (+ (car lst) (my-sum (cdr lst)))))

; n-—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç
(define (my-nth n lst)
  (if (= n 0)
      (car lst)
      (my-nth (- n 1) (cdr lst))))
```

```scheme
(fact 5)             ; ‚Üí 120
(my-length '(1 2 3)) ; ‚Üí 3
(my-sum '(1 2 3))    ; ‚Üí 6
(my-nth 2 '(a b c))  ; ‚Üí c
```

---

## 9. –§—É–Ω–∫—Ü–∏–∏ –æ—Ç –ø–æ-–≤–∏—Å–æ–∫ —Ä–µ–¥

```scheme
; map
(map (lambda (x) (* x 2)) '(1 2 3))  ; ‚Üí (2 4 6)

; filter
(filter (lambda (x) (> x 3)) '(1 5 2 8 3))  ; ‚Üí (5 8)

; apply
(apply + '(1 2 3 4 5))  ; ‚Üí 15
```

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: Haskell vs Scheme

| –ö–æ–Ω—Ü–µ–ø—Ü–∏—è | Haskell | Scheme |
|-----------|---------|--------|
| –î–µ—Ñ–∏–Ω–∏—Ü–∏—è | `f x = x + 1` | `(define (f x) (+ x 1))` |
| –õ–∞–º–±–¥–∞ | `\x -> x + 1` | `(lambda (x) (+ x 1))` |
| –£—Å–ª–æ–≤–∏–µ | `if c then a else b` | `(if c a b)` |
| Guards | `\| x > 0 = ...` | `(cond ((> x 0) ...) ...)` |
| –°–ø–∏—Å—ä–∫ | `[1, 2, 3]` | `'(1 2 3)` |
| Cons | `1 : [2, 3]` | `(cons 1 '(2 3))` |
| Head | `head xs` | `(car xs)` |
| Tail | `tail xs` | `(cdr xs)` |
| Map | `map f xs` | `(map f xs)` |
| –¢–∏–ø–∏–∑–∏—Ä–∞–Ω–µ | –°—Ç–∞—Ç–∏—á–Ω–æ | –î–∏–Ω–∞–º–∏—á–Ω–æ |
