# –§—É–Ω–∫—Ü–∏–∏ –æ—Ç –ø–æ-–≤–∏—Å–æ–∫ —Ä–µ–¥

## –í—ä–≤–µ–¥–µ–Ω–∏–µ

**–§—É–Ω–∫—Ü–∏—è –æ—Ç –ø–æ-–≤–∏—Å–æ–∫ —Ä–µ–¥** (higher-order function) –µ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ:
- –ø—Ä–∏–µ–º–∞ **–¥—Ä—É–≥–∞ —Ñ—É–Ω–∫—Ü–∏—è** –∫–∞—Ç–æ –∞—Ä–≥—É–º–µ–Ω—Ç, –∏/–∏–ª–∏
- **–≤—Ä—ä—â–∞ —Ñ—É–Ω–∫—Ü–∏—è** –∫–∞—Ç–æ —Ä–µ–∑—É–ª—Ç–∞—Ç.

–¢–æ–≤–∞ –µ –æ—Å–Ω–æ–≤–µ–Ω –º–µ—Ö–∞–Ω–∏–∑—ä–º –∑–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ.

---

## 1. –§—É–Ω–∫—Ü–∏–∏ –∫–∞—Ç–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∏

```haskell
applyTwice :: (a -> a) -> a -> a
applyTwice f x = f (f x)
```

```haskell
ghci> applyTwice (+3) 10    -- 16
ghci> applyTwice (*2) 5     -- 20
ghci> applyTwice reverse [1,2,3]  -- [1,2,3]
```

> üí° `(a -> a)` –µ —Ç–∏–ø—ä—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç `a` –≤ `a`. –°–∫–æ–±–∏—Ç–µ —Å–∞ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞—Ç–∞.

---

## 2. `map`

`map` –ø—Ä–∏–ª–∞–≥–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ä—Ä—Ö—É **–≤—Å–µ–∫–∏ –µ–ª–µ–º–µ–Ω—Ç** –æ—Ç —Å–ø–∏—Å—ä–∫:

```haskell
map :: (a -> b) -> [a] -> [b]
map _ []     = []
map f (x:xs) = f x : map f xs
```

```haskell
ghci> map (*2) [1, 2, 3]        -- [2, 4, 6]
ghci> map even [1, 2, 3, 4]     -- [False, True, False, True]
ghci> map show [1, 2, 3]        -- ["1", "2", "3"]
ghci> map length ["hi", "world"] -- [2, 5]
```

---

## 3. `filter`

`filter` –æ—Å—Ç–∞–≤—è —Å–∞–º–æ –µ–ª–µ–º–µ–Ω—Ç–∏—Ç–µ, –∑–∞ –∫–æ–∏—Ç–æ –ø—Ä–µ–¥–∏–∫–∞—Ç—ä—Ç –µ `True`:

```haskell
filter :: (a -> Bool) -> [a] -> [a]
filter _ []     = []
filter p (x:xs)
  | p x       = x : filter p xs
  | otherwise = filter p xs
```

```haskell
ghci> filter even [1..10]        -- [2, 4, 6, 8, 10]
ghci> filter (>3) [1, 5, 2, 8]  -- [5, 8]
ghci> filter (/=' ') "hello world"  -- "helloworld"
```

---

## 4. `foldr` (–¥—è—Å–Ω–æ —Å–≤–∏–≤–∞–Ω–µ)

`foldr` **—Å–≤–∏–≤–∞** —Å–ø–∏—Å—ä–∫ –æ—Ç–¥—è—Å–Ω–æ –Ω–∞–ª—è–≤–æ, –∑–∞–º–µ—Å—Ç–≤–∞—â –≤—Å–µ–∫–∏ `:` —Å –æ–ø–µ—Ä–∞—Ü–∏—è –∏ `[]` —Å –Ω–∞—á–∞–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç:

```haskell
foldr :: (a -> b -> b) -> b -> [a] -> b
foldr _ acc []     = acc
foldr f acc (x:xs) = f x (foldr f acc xs)
```

–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞ `foldr (+) 0 [1, 2, 3]`:
```
  :           +
 / \         / \
1   :   ‚Üí   1   +
   / \         / \
  2   :       2   +
     / \         / \
    3  []       3   0
```

```haskell
ghci> foldr (+) 0 [1, 2, 3]      -- 6
ghci> foldr (:) [] [1, 2, 3]     -- [1, 2, 3]  (–∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç!)
ghci> foldr (++) "" ["a","b","c"] -- "abc"
```

---

## 5. `foldl` (–ª—è–≤–æ —Å–≤–∏–≤–∞–Ω–µ)

`foldl` —Å–≤–∏–≤–∞ —Å–ø–∏—Å—ä–∫ **–æ—Ç–ª—è–≤–æ –Ω–∞–¥—è—Å–Ω–æ**, –Ω–∞—Ç—Ä—É–ø–≤–∞–π–∫–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç –≤ –∞–∫—É–º—É–ª–∞—Ç–æ—Ä:

```haskell
foldl :: (b -> a -> b) -> b -> [a] -> b
foldl _ acc []     = acc
foldl f acc (x:xs) = foldl f (f acc x) xs
```

–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞ `foldl (+) 0 [1, 2, 3]`:
```
foldl (+) 0 [1,2,3]
= foldl (+) (0+1) [2,3]
= foldl (+) ((0+1)+2) [3]
= foldl (+) (((0+1)+2)+3) []
= ((0+1)+2)+3
= 6
```

```haskell
ghci> foldl (+) 0 [1, 2, 3]    -- 6  (—Å—ä—â–æ—Ç–æ –∫–∞—Ç–æ foldr –∑–∞ (+))
ghci> foldl (-) 10 [1, 2, 3]   -- 4  (((10-1)-2)-3)
ghci> foldr (-) 0 [1, 2, 3]    -- 2  (1-(2-(3-0)))  ‚Üê –†–ê–ó–õ–ò–ß–ù–û!
```

> ‚ö†Ô∏è –ó–∞ **–Ω–µ–∫–æ–º—É—Ç–∞—Ç–∏–≤–Ω–∏** –æ–ø–µ—Ä–∞—Ü–∏–∏ (–∫–∞—Ç–æ `-`), `foldl` –∏ `foldr` –¥–∞–≤–∞—Ç **—Ä–∞–∑–ª–∏—á–Ω–∏** —Ä–µ–∑—É–ª—Ç–∞—Ç–∏!

---

## 6. `foldr` vs `foldl`

| –°–≤–æ–π—Å—Ç–≤–æ | `foldr` | `foldl` |
|----------|---------|---------|
| –ü–æ—Å–æ–∫–∞ | –æ—Ç–¥—è—Å–Ω–æ –Ω–∞–ª—è–≤–æ | –æ—Ç–ª—è–≤–æ –Ω–∞–¥—è—Å–Ω–æ |
| –†–µ–∫—É—Ä—Å–∏—è | –æ–±–∏–∫–Ω–æ–≤–µ–Ω–∞ | –æ–ø–∞—à–∫–æ–≤–∞ (—Å –∞–∫—É–º—É–ª–∞—Ç–æ—Ä) |
| –ë–µ–∑–∫—Ä–∞–π–Ω–∏ —Å–ø–∏—Å—ä—Ü–∏ | ‚úÖ —Ä–∞–±–æ—Ç–∏ (–∞–∫–æ `f` –µ –º—ä—Ä–∑–µ–ª–∏–≤–∞) | ‚ùå –Ω–µ —Ä–∞–±–æ—Ç–∏ |
| –ü—Ä–µ–Ω–∞–ø–∏—Å–≤–∞–Ω–µ –Ω–∞ `:` | `foldr (:) [] xs == xs` | ‚Äî |
| –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏–µ | –∑–∞ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–∞–Ω–µ –Ω–∞ —Å–ø–∏—Å—ä—Ü–∏ | –∑–∞ —á–∏—Å–ª–æ–≤–∏ –∞–≥—Ä–µ–≥–∞—Ç–∏ |

> üí° –ü—Ä–∞–≤–∏–ª–æ: –∞–∫–æ —Ä–µ–∑—É–ª—Ç–∞—Ç—ä—Ç –µ **—Å–ø–∏—Å—ä–∫** ‚Üí `foldr`. –ê–∫–æ –µ **—á–∏—Å–ª–æ/–∞–∫—É–º—É–ª–∞—Ç–æ—Ä** ‚Üí `foldl'` (—Å—Ç—Ä–∏–∫—Ç–Ω–∞ –≤–µ—Ä—Å–∏—è).

---

## 7. Currying –∏ —á–∞—Å—Ç–∏—á–Ω–æ –ø—Ä–∏–ª–∞–≥–∞–Ω–µ

–í—Å—è–∫–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤ Haskell –ø—Ä–∏–µ–º–∞ **—Ç–æ—á–Ω–æ –µ–¥–∏–Ω** –∞—Ä–≥—É–º–µ–Ω—Ç. –§—É–Ω–∫—Ü–∏—è —Å –ø–æ–≤–µ—á–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –µ –≤–µ—Ä–∏–≥–∞ –æ—Ç —Ñ—É–Ω–∫—Ü–∏–∏:

```haskell
add :: Int -> Int -> Int
add x y = x + y
-- –ï–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –Ω–∞: add :: Int -> (Int -> Int)
-- add 3 :: Int -> Int  (—á–∞—Å—Ç–∏—á–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∞)
```

```haskell
ghci> map (+ 3) [1, 2, 3]       -- [4, 5, 6]
ghci> map (* 2) [1, 2, 3]       -- [2, 4, 6]
ghci> filter (> 5) [3, 7, 1, 9] -- [7, 9]
ghci> map (take 2) ["hello", "world"]  -- ["he", "wo"]
```

---

## –û–±–æ–±—â–µ–Ω–∏–µ

| –§—É–Ω–∫—Ü–∏—è | –ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ | –¢–∏–ø–∏—á–Ω–∞ —É–ø–æ—Ç—Ä–µ–±–∞ |
|---------|-------------|------------------|
| `map f xs` | –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–∞ –≤—Å–µ–∫–∏ –µ–ª–µ–º–µ–Ω—Ç | `map (*2) [1,2,3]` |
| `filter p xs` | –§–∏–ª—Ç—Ä–∏—Ä–∞ –ø–æ –ø—Ä–µ–¥–∏–∫–∞—Ç | `filter even [1..10]` |
| `foldr f z xs` | –°–≤–∏–≤–∞ –æ—Ç–¥—è—Å–Ω–æ | `foldr (+) 0 [1,2,3]` |
| `foldl f z xs` | –°–≤–∏–≤–∞ –æ—Ç–ª—è–≤–æ | `foldl (+) 0 [1,2,3]` |
| –ß–∞—Å—Ç–∏—á–Ω–æ –ø—Ä–∏–ª–∞–≥–∞–Ω–µ | `f x` –∫–æ–≥–∞—Ç–æ `f` –æ—á–∞–∫–≤–∞ 2 –∞—Ä–≥. | `map (+3) xs` |
