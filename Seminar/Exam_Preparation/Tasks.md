# Подготовка за изпит

## Обхват: Целият курс (Седмици 1 - 14)

---

## Част I: Haskell (Седмици 1 - 12)

### Задача 1: Списъци и HOF

Напишете `groupBy' :: (a -> a -> Bool) -> [a] -> [[a]]`, след което реализирайте run-length encoding чрез нея.

```haskell
>>> encode "aaabbbccca"
[(3,'a'),(3,'b'),(3,'c'),(1,'a')]
```

---

### Задача 2: ADT + рекурсия

Дефинирайте тип за **аритметичен израз** с поддръжка на `Lit Double`, `Add`, `Mul`, `Var String` и `Let String Expr Expr`.

Напишете:

- `eval :: [(String, Double)] -> Expr -> Maybe Double`
- `simplify :: Expr -> Expr` (опростяване на `x + 0`, `x * 1`, `x * 0`)
- `variables :: Expr -> [String]` (списък на свободните променливи)

---

### Задача 3: Типови класове

Дефинирайте типов клас `Graph g` с методи:

- `vertices :: g a -> [a]`
- `edges :: g a -> [(a, a)]`
- `neighbors :: Eq a => a -> g a -> [a]`

Напишете инстанции за `AdjList` и `AdjMatrix`.

---

### Задача 4: Монади

Използвайте `Either String` монадата за реализиране на мини-компилатор, който:

1. Токенизира низ
2. Парсва в дърво на изрази
3. Оценява дървото

Всяка стъпка може да се провали с описание на грешката.

---

### Задача 5: Двоични дървета

Напишете:

- `isBalanced :: Tree a -> Bool` - проверка за балансираност (разликата в височините е ≤ 1)
- `serialize :: Show a => Tree a -> String` - сериализация в низ
- `deserialize :: Read a => String -> Tree a` - десериализация

---

### Задача 6: IO

Напишете програма, която:

1. Чете текстов файл
2. Пресмята честотата на всяка дума
3. Сортира по честота (намаляващо)
4. Записва резултата в CSV файл

---

## Част II: Scheme (Седмици 13 - 14)

### Задача 7: Основни функции

Реализирайте `my-map`, `my-filter`, `my-foldr` в Scheme.

---

### Задача 8: Затваряния

Напишете `make-stack` - стек, реализиран чрез затваряне с `set!`:

```scheme
(define s (make-stack))
((s 'push) 1)
((s 'push) 2)
(s 'top)       ; → 2
(s 'pop)       ; → 2
(s 'top)       ; → 1
```

---

### Задача 9: Потоци

Дефинирайте поток, който генерира числата на Хаминг (числа, чиито единствени прости делители са 2, 3 и 5):

```scheme
; 1, 2, 3, 4, 5, 6, 8, 9, 10, 12, 15, 16, ...
(stream-take 12 hamming)
```

---

### Задача 10: Модел на средите

Проследете оценяването и начертайте диаграмата на средите за:

```scheme
(define (compose f g) (lambda (x) (f (g x))))
(define inc (lambda (x) (+ x 1)))
(define double (lambda (x) (* x 2)))
(define inc-then-double (compose double inc))
(inc-then-double 5)
```
